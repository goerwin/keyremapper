{
  "delayUntilRepeat": 300,
  "keyRepeatInterval": 25,
  "doubleClickSpeed": 500,
  "keyPressesDelay": 200,
  "remaps": [
    { "from": "Alt", "to": "Cmd", "if": { "keyboard": "32:9494" } },
    { "from": "Cmd", "to": "Alt", "if": { "keyboard": "32:9494" } },
    { "from": "AltR", "to": "Cmd", "if": { "keyboard": "32:9494" } },
    { "from": "CmdR", "to": "Alt", "if": { "keyboard": "32:9494" } },
    {
      "from": "GraveAccent",
      "to": "GraveAccent",
      "if": { "keyboard": "32:9494" }
    },
    { "from": "Caps", "to": "F18" },
    { "from": "CmdR", "to": "Cmd" },
    { "from": "AltR", "to": "Alt" },
    { "from": "ShiftR", "to": "Shift" },
    { "from": "GraveAccent", "to": "Shift" },
    { "from": "NonUSBackslash", "to": "GraveAccent" }
  ],
  "keyPresses": [
    { "key": "F18", "ifPressedNTimes": 1, "send": "Esc" },
    { "key": "F18", "ifPressedNTimes": 2, "send": "Esc" },
    { "key": "F18", "ifPressedNTimes": 3, "send": "Esc" },
    { "key": "F18", "ifPressedNTimes": 4, "send": "Esc" },
    { "key": "F18", "ifPressedNTimes": 5, "send": "Esc" },
    { "key": "Shift", "ifPressedNTimes": 2, "send": "Caps" }
  ],
  "keybindings": [
    // vim mode

    {
      "keys": ["F18"],
      "if": { "isKeyDown": false, "vimMode": true, "vimModeShift": true },
      "setOnKeyUp": { "vimMode": false, "vimModeShift": false },
      "send": [null, "Shift:up"]
    },
    {
      "keys": ["F18"],
      "set": { "vimMode": true },
      "setOnKeyUp": { "vimMode": false },
      "send": [null, null]
    },
    {
      "keys": ["H"],
      "if": { "vimMode": true },
      "send": ["LeftArrow:down", "LeftArrow:up"]
    },
    {
      "keys": ["L"],
      "if": { "vimMode": true },
      "send": ["RightArrow:down", "RightArrow:up"]
    },
    {
      "keys": ["J"],
      "if": { "vimMode": true },
      "send": ["DownArrow:down", "DownArrow:up"]
    },
    {
      "keys": ["K"],
      "if": { "vimMode": true },
      "send": ["UpArrow:down", "UpArrow:up"]
    },
    {
      "keys": ["F"],
      "if": { "vimMode": true },
      "set": { "vimModeShift": true },
      "setOnKeyUp": { "vimModeShift": false },
      "send": ["Shift:down", "Shift:up"]
    },

    // clicks mode

    {
      "keys": ["C"],
      "if": { "Alt": true, "F18": true },
      "set": { "rightClickMode": true },
      "setOnKeyUp": { "rightClickMode": false },
      "send": ["Alt:up RightClick:down", "RightClick:up"],
      "afterKeyUp": "Alt:down"
    },
    {
      "keys": ["C"],
      "if": { "Alt": true },
      "set": { "leftClickMode": true },
      "setOnKeyUp": { "leftClickMode": false },
      "send": ["Alt:up LeftClick:down", "LeftClick:up"],
      "afterKeyUp": "Alt:down"
    },
    {
      "keys": ["Alt"],
      "if": { "isKeyDown": false, "leftClickMode": true },
      "setOnKeyUp": { "leftClickMode": false },
      "send": [null, "LeftClick:up Alt:up"]
    },
    {
      "keys": ["Alt"],
      "if": { "isKeyDown": false, "rightClickMode": true },
      "setOnKeyUp": { "rightClickMode": false },
      "send": [null, "RightClick:up Alt:up"]
    },

    // apps

    {
      "keys": ["Semicolon"],
      "if": { "appName": "com.google.Chrome", "Cmd": true },
      "send": ["Cmd:down L Cmd:up Cmd:down", null]
    }
  ],
  "tests": [
    ["Caps:down Caps:up", "Esc"],
    ["Caps:down test_delay:100 Caps:up", "Esc"],
    ["Caps:down test_delay:251 Caps:up", ""],
    [
      "Shift:down Caps:down Caps:up Shift:up",
      "Shift:down Esc:down Esc:up Shift:up"
    ],
    ["Shift:down Caps:down test_delay:251 Caps:up Shift:up", "Shift:down Shift:up"]
  ]
}
