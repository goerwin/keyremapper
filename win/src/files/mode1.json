{
  "remaps": [
    {
      "from": "A",
      "to": "B",
      "when": { "keyboard": "HID\\VID_0B05&PID_19B6&REV_0002&EXAMPLE" }
    },
    { "from": "CtrlR", "to": "Win" },
    { "from": "AltR", "to": "Alt" },
    { "from": "ShiftR", "to": "Shift" },
    { "from": "NonUSBackslash", "to": "Shift" }
  ],
  "keyPresses": [
    {
      "key": "Caps",
      "ifPressedNTimes": 1,
      "when": { "isAltTabMode": true },
      "set": { "isAltTabMode": false },
      "send": "Esc Delay10 Alt:up Ctrl:down"
    },
    { "key": "Caps", "ifPressedNTimes": 1, "send": "Esc" },
    { "key": "Caps", "ifPressedNTimes": 2, "send": "Esc" },
    { "key": "Caps", "ifPressedNTimes": 3, "send": "Esc" },
    { "key": "Caps", "ifPressedNTimes": 4, "send": "Esc" },
    { "key": "Caps", "ifPressedNTimes": 5, "send": "Esc" },
    { "key": "Esc", "ifPressedNTimes": 2, "send": "ToggleAppEnabled" },
    { "key": "Shift", "ifPressedNTimes": 2, "send": "Caps" }
  ],
  "keybindings": [
    // switch modes

    {
      "keys": ["1"],
      "when": { "Esc": true },
      "send": [null, "AppMode1"]
    },
    {
      "keys": ["2"],
      "when": { "Esc": true },
      "send": [null, "AppMode2"]
    },
    {
      "keys": ["3"],
      "when": { "Esc": true },
      "send": [null, "AppMode3"]
    },
    {
      "keys": ["4"],
      "when": { "Esc": true },
      "send": [null, "AppMode4"]
    },

    // altTab mode

    {
      "keys": ["Tab"],
      "when": { "Alt": true, "isAltTabMode": false },
      "set": { "isAltTabMode": true },
      "send": ["Ctrl:up Alt:down Tab", null]
    },
    {
      "keys": ["Tab"],
      "when": { "isAltTabMode": true },
      "send": ["Tab", null]
    },
    {
      "keys": ["Esc", "Enter"],
      "when": { "isAltTabMode": true },
      "set": { "isAltTabMode": false },
      "send": ["currentKey Delay10 Alt:up Ctrl:down", null]
    },
    {
      "keys": ["Q"],
      "when": { "isAltTabMode": true },
      "send": ["Supr", null]
    },
    {
      "keys": ["Alt"],
      "when": { "isAltTabMode": true },
      "setOnKeyUp": { "isAltTabMode": false },
      "send": [null, "Alt:up"]
    },
    {
      "keys": ["H"],
      "when": { "Caps": true, "isAltTabMode": true },
      "send": ["LeftArrow", null]
    },
    {
      "keys": ["L"],
      "when": { "Caps": true, "isAltTabMode": true },
      "send": ["RightArrow", null]
    },
    {
      "keys": ["J"],
      "when": { "Caps": true, "isAltTabMode": true },
      "send": ["DownArrow", null]
    },
    {
      "keys": ["K"],
      "when": { "Caps": true, "isAltTabMode": true },
      "send": ["UpArrow", null]
    },
    {
      "keys": ["Alt"],
      "send": ["Ctrl:down", "Ctrl:up"]
    },

    // Vim mode

    {
      "keys": ["Caps"],
      "when": { "isKeyDown": false, "vimMode": true, "vimModeShift": true },
      "setOnKeyUp": { "vimMode": false, "vimModeShift": false },
      "send": [null, "Shift:up"]
    },
    {
      "keys": ["Caps"],
      "send": [null, null],
      "set": { "vimMode": true },
      "setOnKeyUp": { "vimMode": false }
    },
    {
      "keys": ["J"],
      "when": { "vimMode": true, "Alt": true },
      "send": ["End", null]
    },
    {
      "keys": ["K"],
      "when": { "vimMode": true, "Alt": true },
      "send": ["Home", null]
    },
    {
      "keys": ["H"],
      "when": { "vimMode": true, "Win": true },
      "send": ["Ctrl:down LeftArrow Ctrl:up", null]
    },
    {
      "keys": ["L"],
      "when": { "vimMode": true, "Win": true },
      "send": ["Ctrl:down RightArrow Ctrl:up", null]
    },
    {
      "keys": ["H"],
      "when": { "vimMode": true, "Alt": true, "isAltTabMode": false },
      "send": ["Ctrl:up Home Ctrl:down", null]
    },
    {
      "keys": ["L"],
      "when": { "vimMode": true, "Alt": true, "isAltTabMode": false },
      "send": ["Ctrl:up End Ctrl:down", null]
    },
    { "keys": ["H"], "when": { "vimMode": true }, "send": ["LeftArrow", null] },
    {
      "keys": ["L"],
      "when": { "vimMode": true },
      "send": ["RightArrow", null]
    },
    { "keys": ["J"], "when": { "vimMode": true }, "send": ["DownArrow", null] },
    { "keys": ["K"], "when": { "vimMode": true }, "send": ["UpArrow", null] },
    {
      "keys": ["F"],
      "when": { "vimMode": true },
      "set": { "vimModeShift": true },
      "setOnKeyUp": { "vimModeShift": false },
      "send": ["Shift:down", "Shift:up"]
    },
    {
      // Because non n-rollover keyboard: Win + Caps + S + H/J = F7/Y/]
      // Lenovo Thinkpad
      "keys": ["F7", "Y", "BracketR"],
      "when": { "Caps": true },
      "send": [null, null]
    },

    // Click mode

    {
      "keys": ["C"],
      "when": { "isKeyDown": true, "leftClickMode": true },
      "send": [null, null]
    },
    {
      "keys": ["C"],
      "when": { "isKeyDown": true, "leftClickMode": true },
      "send": [null, null]
    },
    {
      "keys": ["C"],
      "when": { "Win": true, "Caps": true },
      "set": { "rightClickMode": true },
      "setOnKeyUp": { "rightClickMode": false },
      "send": ["RightClick:down", "RightClick:up"]
    },
    {
      "keys": ["C"],
      "when": { "Win": true },
      "set": { "leftClickMode": true },
      "setOnKeyUp": { "leftClickMode": false },
      "send": ["LeftClick:down", "LeftClick:up"]
    },
    {
      "keys": ["Win"],
      "when": { "isKeyDown": false, "leftClickMode": true },
      "setOnKeyUp": { "leftClickMode": false },
      "send": [null, "LeftClick:up"]
    },
    {
      "keys": ["Win"],
      "when": { "isKeyDown": false, "rightClickMode": true },
      "setOnKeyUp": { "rightClickMode": false },
      "send": [null, "RightClick:up"]
    },
    { "keys": ["Win"], "send": [null, null] },

    // Google Chrome

    {
      "keys": ["F"],
      "when": { "appName": "chrome.exe", "Alt": true, "Win": true },
      "send": ["Ctrl:up F11 Ctrl:down", null]
    },
    {
      "keys": ["Enter"],
      "when": { "appName": "chrome.exe", "Alt": true },
      "send": ["Ctrl:up Alt:down Enter Alt:up Ctrl:down", null]
    },
    {
      "keys": ["H"],
      "when": { "appName": "chrome.exe", "Alt": true, "Win": false },
      "send": ["Shift:down Tab Shift:up", null]
    },
    {
      "keys": ["L"],
      "when": { "appName": "chrome.exe", "Alt": true, "Win": false },
      "send": ["Tab", null]
    },
    {
      "keys": ["Colon"],
      "when": { "appName": "chrome.exe", "Alt": true },
      "send": ["L", null]
    },
    {
      "keys": ["F3"],
      "when": { "appName": "chrome.exe" },
      "send": ["Ctrl:down Shift:down Tab Shift:up Ctrl:up", null]
    },
    {
      "keys": ["F4"],
      "when": { "appName": "chrome.exe" },
      "send": ["Ctrl:down Tab Ctrl:up", null]
    },
    {
      "keys": ["F5"],
      "when": { "appName": "chrome.exe" },
      "send": ["Alt:down M Alt:up", null]
    },
    {
      "keys": ["F6"],
      "when": { "appName": "chrome.exe" },
      "send": ["Alt:down T Alt:up", null]
    },

    // Slack

    {
      "keys": ["P"],
      "when": { "appName": "slack.exe", "Alt": true },
      "send": ["K", null]
    },

    // Global

    { "keys": ["Ctrl"], "send": ["Alt:down", "Alt:up"] },
    { "keys": ["Win"], "send": [null, null] },
    {
      "keys": ["V"],
      "when": { "Caps": true, "Alt": true },
      "send": ["Ctrl:up Win:down V Win:up Ctrl:down", null]
    },
    {
      "keys": ["C"],
      "when": { "Caps": true },
      "send": ["Ctrl:down C Ctrl:up", null]
    },
    {
      "keys": ["Tab"],
      "when": { "Caps": true },
      "send": ["Ctrl:down Tab Ctrl:up", null]
    },
    {
      "keys": ["Tab"],
      "when": { "Ctrl": true },
      "send": ["Alt:up Ctrl:down Tab Ctrl:up Alt:down", null]
    },
    {
      "keys": ["Space"],
      "when": { "Caps": true },
      "send": ["Ctrl:down Space Ctrl:up", null]
    },
    {
      "keys": ["H"],
      "when": { "Win": true, "Alt": true },
      "send": ["Ctrl:up Win:down LeftArrow Win:up", "Ctrl:down"]
    },
    {
      "keys": ["L"],
      "when": { "Win": true, "Alt": true },
      "send": ["Ctrl:up Win:down RightArrow Win:up", "Ctrl:down"]
    },
    {
      "keys": ["J"],
      "when": { "Win": true, "Alt": true },
      "send": ["Ctrl:up Win:down DownArrow Win:up", "Ctrl:down"]
    },
    {
      "keys": ["K"],
      "when": { "Win": true, "Alt": true },
      "send": ["Ctrl:up Win:down UpArrow Win:up", "Ctrl:down"]
    },
    {
      "keys": ["F", "J", "K"],
      "when": { "Win": true },
      "send": ["Alt:down currentKey Alt:up", null]
    },
    {
      "keys": ["D"],
      "when": { "Win": true },
      "send": ["Win:down D Win:up", null]
    },
    {
      "keys": ["Backspace"],
      "when": { "Win": true },
      "send": ["Ctrl:down Backspace Ctrl:up", null]
    },
    {
      "keys": ["Space"],
      "when": { "Win": true },
      "send": ["Win", null]
    },
    {
      "keys": ["H"],
      "when": { "Win": true },
      "send": ["Alt:down LeftArrow Alt:up", null]
    },
    {
      "keys": ["L"],
      "when": { "Win": true },
      "send": ["Alt:down RightArrow Alt:up", null]
    },
    {
      "keys": ["Space"],
      "when": { "Alt": true },
      "send": ["F12", null]
    },
    {
      "keys": ["Backspace"],
      "when": { "Alt": true },
      "send": ["Ctrl:up Shift:down Home Shift:up Backspace Ctrl:down", null]
    },
    {
      "keys": ["Esc"],
      "when": { "Alt": true },
      "send": [null, null]
    },
    {
      "keys": ["Q"],
      "when": { "Alt": true },
      "send": ["Ctrl:up Alt:down F4 Alt:up Ctrl:down", null]
    },
    {
      "keys": ["J"],
      "when": { "Alt": true },
      "send": ["Ctrl:up PageDown Ctrl:down", null]
    },
    {
      "keys": ["K"],
      "when": { "Alt": true },
      "send": ["Ctrl:up PageUp Ctrl:down", null]
    },
    {
      "keys": ["F1"],
      "when": { "Alt": true },
      "send": ["Ctrl:up F1 Ctrl:down", null]
    },
    { "keys": ["F1"], "send": ["BrightnessDown", null] },
    {
      "keys": ["F2"],
      "when": { "Alt": true },
      "send": ["Ctrl:up F2 Ctrl:down", null]
    },
    { "keys": ["F2"], "send": ["BrightnessUp", null] },
    {
      "keys": ["F10"],
      "when": { "Alt": true },
      "send": ["Ctrl:up F10 Ctrl:down", null]
    },
    { "keys": ["F10"], "send": ["Mute", null] },
    {
      "keys": ["F11"],
      "when": { "Alt": true },
      "send": ["Ctrl:up F11 Ctrl:down", null]
    },
    {
      "keys": ["F11"],
      "send": ["VolumeDown VolumeDown VolumeDown VolumeDown", null]
    },
    {
      "keys": ["F12"],
      "when": { "Alt": true },
      "send": ["Ctrl:up F12 Ctrl:down", null]
    },
    {
      "keys": ["F12"],
      "send": ["VolumeUp VolumeUp VolumeUp VolumeUp", null]
    },

    {
      "keys": ["A"],
      "when": { "Shift": true, "Win": true },
      "send": ["Shift:up Alt:down NP0 NP1 NP9 NP3 Alt:up Shift:down", null]
    },
    {
      "keys": ["A"],
      "when": { "Win": true },
      "send": ["Alt:down NP0 NP2 NP2 NP5 Alt:up", null]
    },
    {
      "keys": ["E"],
      "when": { "Shift": true, "Win": true },
      "send": ["Shift:up Alt:down NP0 NP2 NP0 NP1 Alt:up Shift:down", null]
    },
    {
      "keys": ["E"],
      "when": { "Win": true },
      "send": ["Alt:down NP0 NP2 NP3 NP3 Alt:up", null]
    },
    {
      "keys": ["I"],
      "when": { "Shift": true, "Win": true },
      "send": ["Shift:up Alt:down NP0 NP2 NP0 NP5 Alt:up Shift:down", null]
    },
    {
      "keys": ["I"],
      "when": { "Win": true },
      "send": ["Alt:down NP0 NP2 NP3 NP7 Alt:up", null]
    },
    {
      "keys": ["O"],
      "when": { "Shift": true, "Win": true },
      "send": ["Shift:up Alt:down NP0 NP2 NP1 NP1 Alt:up Shift:down", null]
    },
    {
      "keys": ["O"],
      "when": { "Win": true },
      "send": ["Alt:down NP0 NP2 NP4 NP3 Alt:up", null]
    },
    {
      "keys": ["U"],
      "when": { "Shift": true, "Win": true },
      "send": ["Shift:up Alt:down NP0 NP2 NP1 NP8 Alt:up Shift:down", null]
    },
    {
      "keys": ["U"],
      "when": { "Win": true },
      "send": ["Alt:down NP0 NP2 NP5 NP0 Alt:up", null]
    },
    {
      "keys": ["N"],
      "when": { "Shift": true, "Win": true },
      "send": ["Shift:up Alt:down NP1 NP6 NP5 Alt:up Shift:down", null]
    },
    {
      "keys": ["N"],
      "when": { "Win": true },
      "send": ["Alt:down NP1 NP6 NP4 Alt:up", null]
    }
  ],
  "tests": [
    //Alt Tab Mode
    ["Alt:down Tab Alt:up", "Ctrl:down Ctrl:up Alt:down Tab Alt:up"],
    ["Alt:down Tab Tab Alt:up", "Ctrl:down Ctrl:up Alt:down Tab Tab Alt:up"],
    [
      "Alt:down Shift:down Tab Shift:up Alt:up",
      "Ctrl:down Shift:down Ctrl:up Alt:down Tab Shift:up Alt:up"
    ],
    [
      "Alt:down Shift:down Tab Tab Shift:up Alt:up",
      "Ctrl:down Shift:down Ctrl:up Alt:down Tab Tab Shift:up Alt:up"
    ],
    [
      "Alt:down Tab Esc Alt:up",
      "Ctrl:down Ctrl:up Alt:down Tab Esc Alt:up Ctrl:down Ctrl:up"
    ],
    // Key
    ["A", "A"],
    // Key - Down
    ["H:down H:down H:down", "H:down H:down H:down"],
    // Key - Down then Up
    ["H:down H:down H:up", "H:down H:down H:up"],
    // Key - 2 Keys In Order
    ["H:down J H:up", "H:down J:down J:up H:up"],
    // Key - 2 Keys In No Order
    ["H:down J:down H:up J:up", "H:down J:down H:up J:up"],
    // Key - 3 Keys In Order
    ["H:down J:down K J:up H:up", "H:down J:down K:down K:up J:up H:up"],
    // Key - 3 Keys No Order
    ["H:down J:down K H:up J:up", "H:down J:down K:down K:up H:up J:up"],

    ["Alt", "Ctrl"],

    // VIM MODE
    ["Caps", "Esc"],
    ["Caps:down A Caps:up", "A"],
    ["Caps:down H Caps:up", "LeftArrow"],
    ["Caps:down L Caps:up", "RightArrow"],
    ["Caps:down J Caps:up", "DownArrow"],
    ["Caps:down K Caps:up", "UpArrow"],
    ["Caps:down Alt:down H Alt:up Caps:up", "Ctrl Home Ctrl"],
    ["Caps:down Alt:down L Alt:up Caps:up", "Ctrl End Ctrl"],
    ["Caps:down S:down H S:up Caps:up", "Shift:down LeftArrow Shift:up"],

    // VIM MODE: When Caps is not the first pressed key
    ["T:down Caps:down T:up Caps:up", "T"],
    ["Alt:down Caps:down H Caps:up Alt:up", "Ctrl Home Ctrl"],
    ["Alt:down Caps:down L Caps:up Alt:up", "Ctrl End Ctrl"],

    // Clicks
    ["Win:down C Win:up", "LeftClick"],
    ["Win:down C:down C:down C Win:up", "LeftClick"],
    ["Win:down C:down Win:up C:up", "LeftClick C:up"],
    ["Win:down Caps:down C Caps:up Win:up", "RightClick"],
    ["Win:down Caps:down C:down C:down C Caps:up Win:up", "RightClick"]
  ]
}
