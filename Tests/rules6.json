{
  "description": ["Multiple keyboards, order matters"],
  "remaps": [
    {
      "from": "N",
      "to": "X",
      "when": { "keyboard": "1234" }
    },
    { "from": "N", "to": "Y" },
    { "from": "O", "to": "A" },
    {
      "from": "O",
      "to": "B",
      "when": { "keyboard": "1234" }
    }
  ],
  "keyPresses": [
    { "repeat": 1, "inputKey": "N", "fire": "Win" },
    { "repeat": 1, "inputKey": "X", "fire": "Esc" },

    {
      "repeat": 1,
      "inputKey": "Caps",
      "fire": "Win",
      "when": { "keyboard": "1234" }
    },
    { "repeat": 1, "inputKey": "Caps", "fire": "Esc" },
    { "repeat": 1, "inputKey": "Alt", "fire": "A" },
    {
      "repeat": 1,
      "inputKey": "Alt",
      "fire": "2",
      "when": { "keyboard": "1234" }
    }
  ],
  "keybindings": [
    {
      "keys": ["D"],
      "when": { "keyboard": "1234" },
      "fire": ["E:down", "E:up"]
    },
    {
      "keys": ["D"],
      "fire": ["F:down", "F:up"]
    },
    {
      "keys": ["Caps"],
      "fire": [null, null]
    }
  ],
  "tests": [
    // remaps
    ["N", "Y"],
    ["keyboard:_ N", "Y"],
    ["keyboard:1234 N", "X Esc"],
    ["O", "A"],
    ["keyboard:_ O", "A"],
    ["keyboard:1234 O", "A"],

    // keybindings
    ["D", "F"],
    ["keyboard:1234 D", "E"],
    ["keyboard:1234 D:down keyboard:_ D:up", "E:down F:up"],
    ["keyboard:1234 Caps:down Caps:up", "Win"],
    ["keyboard:_ Caps:down Caps:up", "Esc"],
    ["keyboard:_ Caps:down keyboard:1234 Caps:up", "Win"],
    ["keyboard:1234 Caps:down keyboard:_ Caps:up", "Esc"],
    ["keyboard:_ Alt:down keyboard:_ Alt:up", "Alt A"],
    ["keyboard:1234 Alt:down keyboard:_ Alt:up", "Alt A"]
  ]
}
